{"version":3,"sources":["fire.js","Login.js","Prizes.js","Root.js","hero.js","App.js","index.js"],"names":["fire","firebase","initializeApp","apiKey","authDomain","projectId","databaseURL","storageBucket","messagingSenderId","appId","measurementId","database","Login","props","email","setEmail","password","setPassword","handleLogin","handleSignup","hasAccount","setHasAccount","emailError","passwordError","referEmail","setReferEmail","code","setCode","handleReferral","className","target","href","type","autoFocus","required","value","onChange","e","onClick","id","height","width","src","alt","Prizes","refers","this","React","Component","Root","emailList","ref","orderByChild","on","snapshot","console","log","val","indexOf","push","uniqueArray","Array","from","Set","emails","length","document","getElementById","innerHTML","header","createElement","innerText","appendChild","i","p","Hero","state","ref_value","ref_code","handleLogout","user","setVariables","bind","num","setState","refNums","refCode","equalTo","referrals","App","useState","setUser","setEmailError","setPasswordError","clearErrors","authListener","auth","onAuthStateChanged","useEffect","signOut","signInWithEmailAndPassword","catch","err","message","createUserWithEmailAndPassword","newUser","set","key","test","count","referalls_value","databaseRef","once","hasChild","child","update","alert","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.aeb74570.chunk.js","sourcesContent":["import firebase from 'firebase';\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n  apiKey: \"AIzaSyADL0J2TqSD6bFVhcdL1EOG8PX-iVFBZCo\",\n  authDomain: \"takeoff-referral-program.firebaseapp.com\",\n  projectId: \"takeoff-referral-program\",\n  databaseURL: \"https://takeoff-referral-program-default-rtdb.firebaseio.com/\",\n  storageBucket: \"takeoff-referral-program.appspot.com\",\n  messagingSenderId: \"456965155597\",\n  appId: \"1:456965155597:web:a435e87f56fee731479e44\",\n  measurementId: \"G-QV1496Q788\"\n};\n// Initialize Firebase\nconst fire = firebase.initializeApp(firebaseConfig);\nvar database = firebase.database();\n\nexport default fire;","import React from 'react';\n\nconst Login = (props) => {\n\n    const { email, setEmail, password, setPassword, handleLogin, handleSignup, hasAccount, setHasAccount, emailError, passwordError, referEmail, setReferEmail, code, setCode, handleReferral } = props;\n    return (\n\n        <section className=\"login container landing justify-content-center text-center\">\n            <h1>Welcome to The Takeoff Referrals Site!</h1>\n            <nav className=\"col-12\">\n                <br />\n                <a target=\"_blank\" href=\"http://thetakeoff.substack.com\">View The Takeoff Substack Here</a>\n            </nav>\n            <br></br>\n            <div className=\"row\">\n                <div className=\"column col-12 col-md-5 border border-primary\">\n                    <h1>Login or Register:</h1>\n                    <label>Username:</label>\n                    <input type=\"text\" autoFocus required value={email} onChange={(e) => setEmail(e.target.value)} />\n                    <p className=\"errorMsg\">{emailError}</p>\n                    <label>Password:</label>\n                    <input\n                        type=\"password\"\n                        autoFocus\n                        required\n                        value={password}\n                        onChange={e => setPassword(e.target.value)}\n                    />\n                    <p className=\"errorMsg\">{passwordError}</p>\n                    <div className=\"btnContainer\">\n                        {hasAccount ? (\n                            <>\n                                <button className=\"btn btn-success\" onClick={handleSignup}>Sign up</button>\n                                <p>Have an account?<span className=\"btn btn-link\" onClick={() => setHasAccount(!hasAccount)} >Sign in</span></p>\n                            </>\n                        ) : (\n                                <>\n                                    <button className=\"btn btn-success\" onClick={handleLogin}>Login</button>\n                                    <p>Don't have an account?<span className=\"btn btn-link\" onClick={() => setHasAccount(!hasAccount)}>Sign up</span></p>\n                                </>\n                            )}\n                    </div>\n                </div>\n                <div className=\"col-0 col-md-2\"></div>\n                <div className=\"column col-12 col-md-5 border border-primary\">\n                    <h1>Subscribe to The Takeoff</h1>\n\n                    <label>Email:</label>\n                    <input type=\"email\" id=\"email_refer_form\" autoFocus required value={referEmail} onChange={(e) => setReferEmail(e.target.value)} />\n                    <br></br>\n                    <label>Code:</label>\n                    <input type=\"text\" id=\"code_refer_form\" autoFocus required value={code} onChange={(e) => setCode(e.target.value)} />\n\n                    <div className=\"btnContainer\">\n\n                        <button className=\"btn btn-warning\" onClick={handleReferral}>Subscribe!</button>\n                        {/* <input id=\"submit\" name=\"submit\" type=\"submit\" value=\"Submit\" onClick={handleReferral}/> */}\n\n                    </div>\n                </div>\n            </div>\n            <br />\n            <img className=\"img-fluid\" height=\"336\" width=\"1010\" src=\"takeoffRect.jpeg\" alt=\"Takeoff Logo\" />\n        </section>\n\n    )\n\n};\n\nexport default Login;","import React from 'react';\n\n\nexport class Prizes extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n\n    render() {\n\n        var refers = this.props.refers;\n\n        if (refers === 0)\n        {\n            return (\n                <ul>\n                    <li>Free Prize for Creating Account</li>\n                </ul>\n            );\n        }\n        else if (refers > 0 && refers < 2)\n        {\n            return (\n                <ul>\n                    <li>Free Prize for Creating Account</li>\n                    <li>The Takeoff Hat</li>\n                </ul>\n            );\n        }\n        else if (refers > 1 && refers < 5)\n        {\n            return (\n                <ul>\n                    <li>Free Prize for Creating Account</li>\n                    <li>The Takeoff Hat</li>\n                    <li>The Takeoff T-Shirt</li>\n                </ul>\n            );\n        }\n        else\n        {\n            return (\n                <ul>\n                    <li>Free Prize for Creating Account</li>\n                    <li>The Takeoff Hat</li>\n                    <li>The Takeoff T-Shirt</li>\n                    <li>The Takeoff Car</li>\n                </ul>\n            );\n        }\n    }\n}\n\nexport default Prizes;\n","import React from 'react';\nimport fire from './fire';\n\n\nexport class Root extends React.Component {\n\n    \n    emails(){\n\n        var emailList = [];\n\n        var ref = fire.database().ref(\"emails\");\n\n\n        ref.orderByChild(\"email\").on(\"child_added\", (snapshot) => {\n          console.log(snapshot.val().email);\n          if (emailList.indexOf(snapshot.val().email) === -1)\n          {\n            emailList.push(snapshot.val().email);\n          }\n        });\n\n        var uniqueArray = Array.from(new Set(emailList));\n        console.log(\"logging unique array:\");\n        console.log(uniqueArray);\n        return uniqueArray;\n    }\n\n\n    render () {\n        var emails = this.emails();\n        console.log(\"in render\");\n        console.log(\"emails length: \" + emails.length);\n        document.getElementById(\"rootDiv\").innerHTML = \"\";\n        var header = document.createElement(\"h3\");\n        header.innerText = \"Signed up emails below:\";\n        document.getElementById(\"rootDiv\").appendChild(header);\n        for (var i=0; i < emails.length; i++)\n        {\n            var p = document.createElement(\"p\");\n            p.innerHTML = emails[i];\n            document.getElementById(\"rootDiv\").appendChild(p);\n        }\n        return (\n            <div id=\"rootDiv2\">\n            </div>\n        );\n    }\n}\n\nexport default Root;","import React from 'react';\nimport fire from './fire';\nimport Prizes from './Prizes';\nimport Root from './Root';\n\n\nclass Hero extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ref_value: 0,\n            ref_code: \"\",\n            handleLogout: props.handleLogout,\n            user: props.user\n        };\n        this.setVariables = this.setVariables.bind(this);\n    }\n\n    setVariables(num, code) {\n        console.log(num);\n        this.setState({\n            ref_value: num,\n            ref_code: code\n        });\n    }\n\n    componentDidMount() {\n        var ref = fire.database().ref(\"user\");\n        console.log(this.state.user.email);\n        var refNums = 999;\n        var refCode = \"error\";\n        // var stateData = [];\n        ref.orderByChild(\"email\").equalTo(this.state.user.email).on(\"child_added\", (snapshot) => {\n            refNums = snapshot.val().referrals;\n            refCode = snapshot.val().code;\n            console.log(refCode);\n            this.setVariables(refNums, refCode);\n        });\n\n    };\n\n    render() {\n        if (this.state.user.email === \"root@root.root\")\n        {\n            console.log(\"in render of hero for root\");\n            return (<div>\n                <h1>Logged in as Root</h1>\n                <button className=\"btn btn-danger\" onClick={this.state.handleLogout}>Logout</button>\n                <Root />\n            </div>)\n        }\n        else\n        {\n\n        return (\n            <div className=\"container-fluid\">\n                <div className=\"hero\">\n                    {console.log(\"in return for Hero\")}\n                    <nav className=\"nav row\">\n                        <div className=\"col-3 justify-content-center\">\n                            <h2 className=\"d-flex justify-content-left\">Welcome {this.state.user.email}</h2>\n                        </div>\n                        <div className=\"col-7\"></div>\n                        <div className=\"col-2 pt-4\">\n                            <button className=\"btn btn-danger\" onClick={this.state.handleLogout}>Logout</button>\n                        </div>\n                    </nav>\n                    <hr />\n\n                    <div className=\"text-center\">\n                        <h1 className=\"d-inline\">Your Referral Code: </h1>\n                        <h1 className=\"d-inline refCode\">{this.state.ref_code}</h1>\n                    </div>\n                    <br />\n                        <div className=\"prizes\">\n                            <h3>You have referred {this.state.ref_value} people. Your Prizes:</h3>\n                            <Prizes refers={this.state.ref_value} />\n                        </div>\n\n                </div>\n            </div>\n        );\n                }\n    };\n\n}\n\nexport default Hero;\n\n","import React, { useState, useEffect } from \"react\";\nimport fire from './fire'\nimport './App.css';\nimport Login from \"./Login\";\nimport Hero from './hero';\n\nconst App = () => {\n  const [user, setUser] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [hasAccount, setHasAccount] = useState('');\n  const [referEmail, setReferEmail] = useState('');\n  const [code, setCode] = useState('');\n\n\n\n  const clearInputs = () => {\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  const clearErrors = () => {\n    setEmailError(\"\");\n    setPasswordError(\"\");\n  };\n\n  const handleLogin = () => {\n    clearErrors();\n    fire\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .catch(err => {\n        switch (err.code) {\n          case \"auth/Invalid-email\":\n          case \"auth/user-disabled\":\n          case \"auth/user-not-found\":\n            setEmailError(err.message);\n            break;\n          case \"auth/wrong-password\":\n            setPasswordError(err.message);\n            break;\n        }\n      });\n\n  };\n\n  const handleSignup = () => {\n    clearErrors();\n\n    fire\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .catch(err => {\n\n        switch (err.code) {\n          case \"auth/email-already-in-use\":\n\n          case \"auth/invalid-email\":\n            setEmailError(err.message);\n            break;\n          case \"auth/weak-password\":\n            setPasswordError(err.message);\n            break;\n\n        }\n      });\n\n    //THIS SHOULD ONLY EXECUTE IF THERE WAS NO ERROR  IE. DID NOT ENTER CATCH\n    var databaseRef = fire.database().ref(\"user\");\n    var newUser = databaseRef.push();\n    newUser.set({\n      email: email,\n      referrals: 0,\n      code: newUser.key\n    });\n\n\n\n\n    // fire.database().ref(\"user\").push(({\n    //     email: email,\n    //     referrals : 0,\n\n    //   }))\n\n    // function writeUserData(userId, email, referrals) {\n    //   fire.database().ref('users/' + userId).push({\n    //     email: email,\n    //     referrals : 0\n    //   });\n    // }\n\n\n\n  };\n\n  const handleReferral = () => {\n    //CHECK IF EMAIL IS A VALID FORM\n\n\n    let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if (!re.test(referEmail)) {\n      alert(\"Invalid Email\");\n      return;\n    }\n    else {\n\n      document.getElementById(\"email_refer_form\").value = \"\";\n      document.getElementById(\"code_refer_form\").value = \"\";\n\n      var ref = fire.database().ref(\"emails\");\n\n      var count = 0;\n\n\n      ref.orderByChild(\"email\").equalTo(referEmail).on(\"child_added\", function (snapshot) {\n        console.log(snapshot.val().email);\n        count = count + 1;\n      });\n\n      if (count == 0) {\n        var referalls_value = 0;\n        var databaseRef = fire.database().ref(\"user\");\n        databaseRef.once('value', function (snapshot) {\n          if (snapshot.hasChild(code)) {\n            var ref2 = databaseRef.child(code);\n            ref2.on('value', (snapshot) => {\n              referalls_value = snapshot.val().referrals;\n            });\n\n            databaseRef.child(code).update({ 'referrals': referalls_value + 1 });\n            fire.database().ref(\"emails\").push({\n              email: referEmail\n            });\n            alert(\"You have successfully signed up\");\n          }\n          else {\n            alert(\"Invalid Code\");\n          }\n\n        });\n      }\n      else {\n        alert(\"Email already signed up\");\n      }\n    }\n  };\n\n  const handleLogout = () => {\n    document.getElementById(\"rootDiv\").innerHTML = \"\";\n    fire.auth().signOut();\n\n  };\n\n  const authListener = () => {\n    fire.auth().onAuthStateChanged(user => {\n      if (user) {\n        clearInputs();\n        setUser(user);\n      }\n      else {\n        setUser(\"\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    authListener();\n\n  }, []);\n\n\n  return (\n    <div className=\"App\">\n      {user ? (\n        <Hero\n          handleLogout={handleLogout}\n          user={user}\n        />\n      ) : (\n          <Login\n            email={email}\n            setEmail={setEmail}\n            password={password}\n            setPassword={setPassword}\n            handleLogin={handleLogin}\n            handleSignup={handleSignup}\n            hasAccount={hasAccount}\n            setHasAccount={setHasAccount}\n            emailError={emailError}\n            passwordError={passwordError}\n            referEmail={referEmail}\n            setReferEmail={setReferEmail}\n            code={code}\n            setCode={setCode}\n            handleReferral={handleReferral}\n          />\n        )}\n    </div>\n  );\n\n};\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}