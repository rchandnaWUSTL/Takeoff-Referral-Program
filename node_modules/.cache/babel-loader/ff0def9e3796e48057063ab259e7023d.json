{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/roshanchandna/Desktop/Github/creativeproject-mod7-464888-463874/src/hero.js\";\nimport React from 'react';\nimport fire from './fire';\nimport Prizes from './Prizes';\n\nclass Hero extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ref_value: 0,\n      ref_code: \"\",\n      handleLogout: props.handleLogout,\n      user: props.user\n    };\n    this.setVariables = this.setVariables.bind(this); // const { handleLogout, user } = props;\n  }\n\n  setVariables(num, code) {\n    console.log(num);\n    this.setState({\n      ref_value: num,\n      ref_code: code\n    });\n  }\n\n  componentDidMount() {\n    var ref = fire.database().ref(\"user\");\n    console.log(this.state.user.email);\n    var refNums = 999;\n    var refCode = \"error\"; // var stateData = [];\n\n    ref.orderByChild(\"email\").equalTo(this.state.user.email).on(\"child_added\", snapshot => {\n      refNums = snapshot.val().referrals;\n      refCode = snapshot.val().code;\n      console.log(refCode);\n      this.setVariables(refNums, refCode); // let data = [];\n      // data.push(refNums);\n      // data.push(refCode);\n      // stateData = await Promise.all(data); \n    }); // this.setState( {\n    //     ref_value : refNums,\n    //     ref_code : refCode\n    //     });\n  }\n\n  render() {\n    var forHref = 'mailto:?subject=Check Out The TakeOff! &amp;body=Sign up for the TakeOff and use my referral code ' + this.state.ref_code;\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"hero\",\n      children: [console.log(\"in return for Hero\"), /*#__PURE__*/_jsxDEV(\"nav\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Welcome \", this.state.user.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"justify-content-right\",\n          onClick: this.state.handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Number of Referrals: \", this.state.ref_value]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Your Referral Code: \", this.state.ref_code]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Share with Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: forHref,\n        title: \"Share by Email\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"http://png-2.findicons.com/files/icons/573/must_have/48/mail.png\",\n          alt: \"mail image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Prizes, {\n        refers: this.state.ref_value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this) //ADD PRIZE DIVS HERE\n    ;\n  }\n\n}\n\nexport default Hero; // const Hero = (props) => {\n//     const { handleLogout, user } = props;\n//     console.log(user.email);\n//     var ref_value = 0;\n//     var ref_code = '';\n//     var ref = fire.database().ref(\"user\");\n//     // ref.on(\"value\", function(snapshot) {\n//     //     console.log(snapshot.val());\n//     //   });\n//     //EXECUTES AFTER RETURN?--NEEDS TO BE FIXED\n//     ref.orderByChild(\"email\").equalTo(user.email).on(\"child_added\", function (snapshot) {\n//         console.log(snapshot.val().referrals);\n//         ref_value = snapshot.val().referrals;\n//         console.log(snapshot.val().code);\n//         ref_code = snapshot.val().code;\n//         //var referrals=snapshot.val().referrals;\n//     });\n//     return (\n//         <section className=\"hero\">\n//             {console.log(\"in return\")}\n//             <nav>\n//                 <h2>Welcome {user.email}</h2>\n//                 <button onClick={handleLogout}>Logout</button>\n//             </nav>\n//             <h1>Number of Referrals: {ref_value}</h1>\n//             <h1>Your Referral Code: {ref_code}</h1>\n//             <label><h1>Share with Email:</h1></label>\n//             {/* TRY TO MAKE IT ADD THE REFERRAL CODE TO EMAIL */}\n//             <a href=\"mailto:?subject=Check Out The TakeOff! &amp;body=Sign up for the TakeOff and use my referral code\" title=\"Share by Email\">\n//                 <img src=\"http://png-2.findicons.com/files/icons/573/must_have/48/mail.png\" />\n//             </a>\n//         </section>\n//         //ADD PRIZE DIVS HERE\n//     );\n// };","map":{"version":3,"sources":["/Users/roshanchandna/Desktop/Github/creativeproject-mod7-464888-463874/src/hero.js"],"names":["React","fire","Prizes","Hero","Component","constructor","props","state","ref_value","ref_code","handleLogout","user","setVariables","bind","num","code","console","log","setState","componentDidMount","ref","database","email","refNums","refCode","orderByChild","equalTo","on","snapshot","val","referrals","render","forHref"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAGA,MAAMC,IAAN,SAAmBH,KAAK,CAACI,SAAzB,CAAmC;AAC/BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,CADF;AAETC,MAAAA,QAAQ,EAAE,EAFD;AAGTC,MAAAA,YAAY,EAAEJ,KAAK,CAACI,YAHX;AAITC,MAAAA,IAAI,EAAEL,KAAK,CAACK;AAJH,KAAb;AAMA,SAAKC,YAAL,GAAqB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAArB,CARe,CASf;AACH;;AAEDD,EAAAA,YAAY,CAACE,GAAD,EAAMC,IAAN,EAAY;AACpBC,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,SAAKI,QAAL,CAAc;AACVV,MAAAA,SAAS,EAAGM,GADF;AAEVL,MAAAA,QAAQ,EAAGM;AAFD,KAAd;AAIH;;AAEDI,EAAAA,iBAAiB,GAAG;AAChB,QAAIC,GAAG,GAAGnB,IAAI,CAACoB,QAAL,GAAgBD,GAAhB,CAAoB,MAApB,CAAV;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAL,CAAWI,IAAX,CAAgBW,KAA5B;AACA,QAAIC,OAAO,GAAG,GAAd;AACA,QAAIC,OAAO,GAAG,OAAd,CAJgB,CAKhB;;AACAJ,IAAAA,GAAG,CAACK,YAAJ,CAAiB,OAAjB,EAA0BC,OAA1B,CAAkC,KAAKnB,KAAL,CAAWI,IAAX,CAAgBW,KAAlD,EAAyDK,EAAzD,CAA4D,aAA5D,EAA4EC,QAAD,IAAc;AACrFL,MAAAA,OAAO,GAAGK,QAAQ,CAACC,GAAT,GAAeC,SAAzB;AACAN,MAAAA,OAAO,GAAGI,QAAQ,CAACC,GAAT,GAAed,IAAzB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYO,OAAZ;AACA,WAAKZ,YAAL,CAAkBW,OAAlB,EAA2BC,OAA3B,EAJqF,CAKrF;AACA;AACA;AACA;AACH,KATD,EANgB,CAiBhB;AACA;AACA;AACA;AACH;;AAEDO,EAAAA,MAAM,GAAI;AACN,QAAIC,OAAO,GAAG,uGAAuG,KAAKzB,KAAL,CAAWE,QAAhI;AACA,wBACI;AAAS,MAAA,SAAS,EAAC,MAAnB;AAAA,iBACCO,OAAO,CAACC,GAAR,CAAY,oBAAZ,CADD,eAEA;AAAA,gCAEI;AAAA,iCAAa,KAAKV,KAAL,CAAWI,IAAX,CAAgBW,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAKI;AAAQ,UAAA,SAAS,EAAC,uBAAlB;AAA0C,UAAA,OAAO,EAAE,KAAKf,KAAL,CAAWG,YAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFA,eAUA;AAAA,4CAA0B,KAAKH,KAAL,CAAWC,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA,cAVA,eAWA;AAAA,2CAAyB,KAAKD,KAAL,CAAWE,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA,cAXA,eAaA;AAAA,+BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAP;AAAA;AAAA;AAAA;AAAA,cAbA,eAeA;AAAG,QAAA,IAAI,EAAEuB,OAAT;AAAkB,QAAA,KAAK,EAAC,gBAAxB;AAAA,+BACI;AAAK,UAAA,GAAG,EAAC,kEAAT;AAA4E,UAAA,GAAG,EAAC;AAAhF;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAfA,eAkBA;AAAA;AAAA;AAAA;AAAA,cAlBA,eAoBJ,QAAC,MAAD;AAAQ,QAAA,MAAM,EAAE,KAAKzB,KAAL,CAAWC;AAA3B;AAAA;AAAA;AAAA;AAAA,cApBI;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,CAyBA;AAzBA;AA2BH;;AAzE8B;;AA6EnC,eAAeL,IAAf,C,CAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA","sourcesContent":["import React from 'react';\nimport fire from './fire';\nimport Prizes from './Prizes';\n\n\nclass Hero extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ref_value: 0,\n            ref_code: \"\",\n            handleLogout: props.handleLogout,\n            user: props.user\n        };\n        this.setVariables =  this.setVariables.bind(this);\n        // const { handleLogout, user } = props;\n    }\n\n    setVariables(num, code) {\n        console.log(num);\n        this.setState({\n            ref_value : num,\n            ref_code : code\n        });\n    }\n\n    componentDidMount() {\n        var ref = fire.database().ref(\"user\");\n        console.log(this.state.user.email);\n        var refNums = 999;\n        var refCode = \"error\";\n        // var stateData = [];\n        ref.orderByChild(\"email\").equalTo(this.state.user.email).on(\"child_added\", (snapshot) => {\n            refNums = snapshot.val().referrals;\n            refCode = snapshot.val().code;\n            console.log(refCode);\n            this.setVariables(refNums, refCode);\n            // let data = [];\n            // data.push(refNums);\n            // data.push(refCode);\n            // stateData = await Promise.all(data); \n        });\n\n        // this.setState( {\n        //     ref_value : refNums,\n        //     ref_code : refCode\n        //     });\n    };\n\n    render () {\n        var forHref = 'mailto:?subject=Check Out The TakeOff! &amp;body=Sign up for the TakeOff and use my referral code ' + this.state.ref_code;\n        return (\n            <section className=\"hero\">\n            {console.log(\"in return for Hero\")}\n            <nav>\n\n                <h2>Welcome {this.state.user.email}</h2>\n\n\n                <button className=\"justify-content-right\" onClick={this.state.handleLogout}>Logout</button>\n            </nav>\n\n            <h1>Number of Referrals: {this.state.ref_value}</h1>\n            <h1>Your Referral Code: {this.state.ref_code}</h1>\n\n            <label><h1>Share with Email:</h1></label>\n            {/* TRY TO MAKE IT ADD THE REFERRAL CODE TO EMAIL */}\n            <a href={forHref} title='Share by Email'>\n                <img src=\"http://png-2.findicons.com/files/icons/573/must_have/48/mail.png\" alt=\"mail image\" />\n            </a>\n            <br />\n\n        <Prizes refers={this.state.ref_value} />\n\n        </section>\n\n        //ADD PRIZE DIVS HERE\n        );\n    };\n\n}\n\nexport default Hero;\n\n// const Hero = (props) => {\n\n//     const { handleLogout, user } = props;\n\n//     console.log(user.email);\n\n//     var ref_value = 0;\n//     var ref_code = '';\n//     var ref = fire.database().ref(\"user\");\n//     // ref.on(\"value\", function(snapshot) {\n//     //     console.log(snapshot.val());\n//     //   });\n\n//     //EXECUTES AFTER RETURN?--NEEDS TO BE FIXED\n//     ref.orderByChild(\"email\").equalTo(user.email).on(\"child_added\", function (snapshot) {\n//         console.log(snapshot.val().referrals);\n//         ref_value = snapshot.val().referrals;\n//         console.log(snapshot.val().code);\n//         ref_code = snapshot.val().code;\n//         //var referrals=snapshot.val().referrals;\n//     });\n\n\n\n//     return (\n//         <section className=\"hero\">\n//             {console.log(\"in return\")}\n//             <nav>\n\n//                 <h2>Welcome {user.email}</h2>\n\n\n//                 <button onClick={handleLogout}>Logout</button>\n//             </nav>\n\n//             <h1>Number of Referrals: {ref_value}</h1>\n//             <h1>Your Referral Code: {ref_code}</h1>\n\n//             <label><h1>Share with Email:</h1></label>\n//             {/* TRY TO MAKE IT ADD THE REFERRAL CODE TO EMAIL */}\n//             <a href=\"mailto:?subject=Check Out The TakeOff! &amp;body=Sign up for the TakeOff and use my referral code\" title=\"Share by Email\">\n//                 <img src=\"http://png-2.findicons.com/files/icons/573/must_have/48/mail.png\" />\n//             </a>\n//         </section>\n\n//         //ADD PRIZE DIVS HERE\n//     );\n\n// };\n"]},"metadata":{},"sourceType":"module"}