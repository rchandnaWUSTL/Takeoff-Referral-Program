{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/roshanchandna/Desktop/Github/creativeproject-mod7-464888-463874/src/hero.js\";\nimport React from 'react';\nimport fire from './fire';\n\nclass Hero extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ref_value: 0,\n      ref_code: \"\",\n      handleLogout: props.handleLogout,\n      user: props.user\n    }; // const { handleLogout, user } = props;\n  }\n\n  setVariables(num, code) {\n    this.setState({\n      ref_value: num,\n      ref_code: code\n    });\n  }\n\n  componentDidMount() {\n    var ref = fire.database().ref(\"user\");\n    console.log(this.state.user.email);\n    var refNums = 999;\n    var refCode = \"error\";\n    var stateData = [];\n    ref.orderByChild(\"email\").equalTo(this.state.user.email).on(\"value\", async function (snapshot) {\n      refNums = snapshot.val().referrals;\n      refCode = snapshot.val().code; // let data = [];\n      // data.push(refNums);\n      // data.push(refCode);\n      // stateData = await Promise.all(data); \n    });\n    console.log(refCode);\n    this.setState({\n      ref_value: refNums,\n      ref_code: refCode\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"hero\",\n      children: [console.log(\"in return for Hero\"), /*#__PURE__*/_jsxDEV(\"nav\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Welcome \", this.state.user.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.state.handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Number of Referrals: \", this.state.ref_value]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Your Referral Code: \", this.state.ref_code]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Share with Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"mailto:?subject=Check Out The TakeOff! &body=Sign up for the TakeOff and use my referral code\",\n        title: \"Share by Email\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"http://png-2.findicons.com/files/icons/573/must_have/48/mail.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this) //ADD PRIZE DIVS HERE\n    ;\n  }\n\n}\n\nexport default Hero; // const Hero = (props) => {\n//     const { handleLogout, user } = props;\n//     console.log(user.email);\n//     var ref_value = 0;\n//     var ref_code = '';\n//     var ref = fire.database().ref(\"user\");\n//     // ref.on(\"value\", function(snapshot) {\n//     //     console.log(snapshot.val());\n//     //   });\n//     //EXECUTES AFTER RETURN?--NEEDS TO BE FIXED\n//     ref.orderByChild(\"email\").equalTo(user.email).on(\"child_added\", function (snapshot) {\n//         console.log(snapshot.val().referrals);\n//         ref_value = snapshot.val().referrals;\n//         console.log(snapshot.val().code);\n//         ref_code = snapshot.val().code;\n//         //var referrals=snapshot.val().referrals;\n//     });\n//     return (\n//         <section className=\"hero\">\n//             {console.log(\"in return\")}\n//             <nav>\n//                 <h2>Welcome {user.email}</h2>\n//                 <button onClick={handleLogout}>Logout</button>\n//             </nav>\n//             <h1>Number of Referrals: {ref_value}</h1>\n//             <h1>Your Referral Code: {ref_code}</h1>\n//             <label><h1>Share with Email:</h1></label>\n//             {/* TRY TO MAKE IT ADD THE REFERRAL CODE TO EMAIL */}\n//             <a href=\"mailto:?subject=Check Out The TakeOff! &amp;body=Sign up for the TakeOff and use my referral code\" title=\"Share by Email\">\n//                 <img src=\"http://png-2.findicons.com/files/icons/573/must_have/48/mail.png\" />\n//             </a>\n//         </section>\n//         //ADD PRIZE DIVS HERE\n//     );\n// };","map":{"version":3,"sources":["/Users/roshanchandna/Desktop/Github/creativeproject-mod7-464888-463874/src/hero.js"],"names":["React","fire","Hero","Component","constructor","props","state","ref_value","ref_code","handleLogout","user","setVariables","num","code","setState","componentDidMount","ref","database","console","log","email","refNums","refCode","stateData","orderByChild","equalTo","on","snapshot","val","referrals","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport fire from './fire';\n\n\nclass Hero extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            ref_value: 0,\n            ref_code: \"\",\n            handleLogout: props.handleLogout,\n            user: props.user\n        };\n        // const { handleLogout, user } = props;\n    }\n\n    setVariables(num, code) {\n        this.setState({\n            ref_value : num,\n            ref_code : code\n        });\n    }\n\n    componentDidMount() {\n        var ref = fire.database().ref(\"user\");\n        console.log(this.state.user.email);\n        var refNums = 999;\n        var refCode = \"error\";\n        var stateData = [];\n        ref.orderByChild(\"email\").equalTo(this.state.user.email).on(\"value\", async function (snapshot) {\n            refNums = snapshot.val().referrals;\n            refCode = snapshot.val().code;\n            // let data = [];\n            // data.push(refNums);\n            // data.push(refCode);\n            // stateData = await Promise.all(data); \n        });\n        console.log(refCode);\n        this.setState( {\n            ref_value : refNums,\n            ref_code : refCode\n            });\n    };\n\n    render () {\n        return (\n            <section className=\"hero\">\n            {console.log(\"in return for Hero\")}\n            <nav>\n\n                <h2>Welcome {this.state.user.email}</h2>\n\n\n                <button onClick={this.state.handleLogout}>Logout</button>\n            </nav>\n\n            <h1>Number of Referrals: {this.state.ref_value}</h1>\n            <h1>Your Referral Code: {this.state.ref_code}</h1>\n\n            <label><h1>Share with Email:</h1></label>\n            {/* TRY TO MAKE IT ADD THE REFERRAL CODE TO EMAIL */}\n            <a href=\"mailto:?subject=Check Out The TakeOff! &amp;body=Sign up for the TakeOff and use my referral code\" title=\"Share by Email\">\n                <img src=\"http://png-2.findicons.com/files/icons/573/must_have/48/mail.png\" />\n            </a>\n        </section>\n\n        //ADD PRIZE DIVS HERE\n        );\n    };\n\n}\n\nexport default Hero;\n\n// const Hero = (props) => {\n\n//     const { handleLogout, user } = props;\n\n//     console.log(user.email);\n\n//     var ref_value = 0;\n//     var ref_code = '';\n//     var ref = fire.database().ref(\"user\");\n//     // ref.on(\"value\", function(snapshot) {\n//     //     console.log(snapshot.val());\n//     //   });\n\n//     //EXECUTES AFTER RETURN?--NEEDS TO BE FIXED\n//     ref.orderByChild(\"email\").equalTo(user.email).on(\"child_added\", function (snapshot) {\n//         console.log(snapshot.val().referrals);\n//         ref_value = snapshot.val().referrals;\n//         console.log(snapshot.val().code);\n//         ref_code = snapshot.val().code;\n//         //var referrals=snapshot.val().referrals;\n//     });\n\n\n\n//     return (\n//         <section className=\"hero\">\n//             {console.log(\"in return\")}\n//             <nav>\n\n//                 <h2>Welcome {user.email}</h2>\n\n\n//                 <button onClick={handleLogout}>Logout</button>\n//             </nav>\n\n//             <h1>Number of Referrals: {ref_value}</h1>\n//             <h1>Your Referral Code: {ref_code}</h1>\n\n//             <label><h1>Share with Email:</h1></label>\n//             {/* TRY TO MAKE IT ADD THE REFERRAL CODE TO EMAIL */}\n//             <a href=\"mailto:?subject=Check Out The TakeOff! &amp;body=Sign up for the TakeOff and use my referral code\" title=\"Share by Email\">\n//                 <img src=\"http://png-2.findicons.com/files/icons/573/must_have/48/mail.png\" />\n//             </a>\n//         </section>\n\n//         //ADD PRIZE DIVS HERE\n//     );\n\n// };\n"]},"metadata":{},"sourceType":"module"}